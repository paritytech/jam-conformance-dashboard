# Data Files Structure

This directory contains the JSON data files used by the JAM Leaderboard application.

## Files Overview

### Core Data Files

1. **`all-benchmarks-data.json`**
   - Contains raw benchmark results for all teams across all benchmark types
   - Structure: `{ version: { benchmarkType: { teams: [...], baseline: "..." } } }`
   - Benchmark types: safrole, fallback, storage, storage_light
   - Each team entry includes: mean, p50, p90, p99, min, max, stdDev metrics

2. **`aggregated-data.json`**
   - Contains aggregated performance scores across all benchmarks
   - Structure: `{ version: { teams: [...], baseline: "...", methodology: {...} } }`
   - Includes weighted scores combining all benchmark results
   - Used for the main leaderboard ranking

3. **`client-metadata.json`**
   - Static metadata about each client/team implementation
   - Contains: displayName, language, languageColor, author, url
   - Used for display purposes throughout the UI

4. **`source-info.json`**
   - Tracks the source of the benchmark data
   - Contains commit information from the jam-conformance repository
   - Auto-generated by the CI/CD pipeline

## Data Flow

1. GitHub Actions workflow clones the jam-conformance repository
2. `capture-source-info.js` captures the commit information
3. `generate-all-benchmarks-data.js` processes raw benchmark data
4. `generate-aggregated-data.js` creates aggregated scores
5. The application uses these files to display the leaderboard

## Team Name Mapping

Team names in benchmark data may differ from display names. The `team-utils.ts` file handles mapping variations like:
- `polkajam (interpreted)` → `polkajam_interpreted`
- `jam-duna` → `jamduna`
- Team names with suffixes like `-target` or version numbers